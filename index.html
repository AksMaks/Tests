<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Firebase Cloud Messaging</title>
  <script>
    function spawnNotification(body, title) {
      var options = {
          body: body,
          icon: null
      };
      var n = new Notification(title, options);
    }
  function asd(){
    Notification.requestPermission().then(function(result) {
      console.log(result);
    });
  } 
  function notifyMe() {
    // Проверка поддержки браузером уведомлений
    if (!("Notification" in window)) {
      alert("This browser does not support desktop notification");
    }

    // Проверка разрешения на отправку уведомлений
    else if (Notification.permission === "granted") {
      // Если разрешено, то создаём уведомление
      var notification = new Notification("Hi there!");
    }

    // В противном случае, запрашиваем разрешение
    else if (Notification.permission !== 'denied') {
      Notification.requestPermission(function (permission) {
        // Если пользователь разрешил, то создаём уведомление
        if (permission === "granted") {
          var notification = new Notification("Hi there!");
        }
        
      });
    }

    // В конечном счёте, если пользователь отказался от получения
    // уведомлений, то стоит уважать его выбор и не беспокоить его
    // по этому поводу.
  }
  </script>
</head>
<body>
  <button onclick="notifyMe()">Notify me!</button>
  <button onclick="asd()">asd</button>
  <button onclick="spawnNotification('asd', '123')">asd</button>
</body>
</html>
